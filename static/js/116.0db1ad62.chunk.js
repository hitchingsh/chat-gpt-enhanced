"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[116],{7116:function(e,r,n){n.r(r),n.d(r,{default:function(){return y}});var t=n(4165),s=n(5861),a=n(9439),i=n(2791),c=n(7799),o=n(9460),l="https://js.stripe.com/v3",u=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",p=null,h=function(e){return null!==p||(p=new Promise((function(r,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(d),window.Stripe)r(window.Stripe);else try{var t=function(){for(var e=document.querySelectorAll('script[src^="'.concat(l,'"]')),r=0;r<e.length;r++){var n=e[r];if(u.test(n.src))return n}return null}();t&&e?console.warn(d):t||(t=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(l).concat(r);var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(n),n}(e)),t.addEventListener("load",(function(){window.Stripe?r(window.Stripe):n(new Error("Stripe.js not available"))})),t.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(s){return void n(s)}else r(null)}))),p},m=function(e,r,n){if(null===e)return null;var t=e.apply(void 0,r);return function(e,r){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.46.0",startTime:r})}(t,n),t},f=Promise.resolve().then((function(){return h(null)})),v=!1;f.catch((function(e){v||console.warn(e)}));var w=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];v=!0;var t=Date.now();return f.then((function(e){return m(e,r,t)}))},x=n(1601),g=n(184),j=function(){return(0,g.jsxs)("svg",{style:{marginRight:10},xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-check-circle",children:[(0,g.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z",fill:"#b3befe"}),(0,g.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z",fill:"#b3befe"})]})},b=n(1087),N=n(7058);var y=function(e){var r=e.app,n=(0,c.ad)(r),l=(0,o.v0)().currentUser,u=(0,i.useState)(!1),d=(0,a.Z)(u,2),p=d[0],h=d[1],m=(0,i.useState)(null),f=(0,a.Z)(m,2),v=f[0],y=f[1],S=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.PL)((0,c.hJ)(n,"customers/".concat(l.uid,"/subscriptions")));case 2:e.sent.forEach(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y({role:r.data().role,current_period_end:r.data().current_period_end,current_period_start:r.data().current_period_start,ended_at:r.data().ended_at,status:r.data().status});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){S()}),[]);var _=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,(0,c.ET)((0,c.hJ)(n,"customers/".concat(l.uid,"/checkout_sessions")),{price:"price_1MUNd2G3QzTgLSVlIsOgsP1w",success_url:window.location.origin,cancel_url:window.location.origin});case 3:r=e.sent,(0,c.cf)(r,function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var n,s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.data(),s=n.error,a=n.sessionId,s&&alert("An error occured: ".concat(s.message)),!a){e.next=8;break}return e.next=5,w("pk_live_51MQJzsG3QzTgLSVlbbn61XR2oHPXoFBdUFzS2TpLtmAYpkad8VS9zNggzcxFP38emnL4YsHItBaLXHCrBugX5LZY005GSqsQAv");case 5:e.sent.redirectToCheckout({sessionId:a}),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(v),(0,g.jsxs)("div",{className:"store-container",children:[(0,g.jsx)("h1",{className:"store-heading",children:"ChatGPT Enhanced"}),(0,g.jsxs)(N.E.div,{initial:{opacity:1,x:-800},animate:{opacity:1,x:0},transition:{duration:.7},viewport:{once:!0},className:"sub-card",children:[(0,g.jsx)("div",{className:"store-recommended",children:"RECOMMENDED"}),(0,g.jsxs)("div",{className:"sub-role",children:[(0,g.jsx)("h2",{className:"store-subheading",children:"Premium"}),(0,g.jsx)("p",{className:"text-gray",children:"Advanced Features"})]}),(0,g.jsxs)("div",{className:"pricing",children:[(0,g.jsx)("div",{className:"old-price",children:"$14.99"}),(0,g.jsxs)("div",{className:"price",children:["$9.99",(0,g.jsx)("span",{className:"currency-type",children:"USD"})]}),(0,g.jsx)("div",{className:"text-gray",children:"Per Month"})]}),(0,g.jsxs)("div",{className:"sub-features",children:[(0,g.jsxs)("div",{className:"feature",children:[(0,g.jsx)(j,{}),"Unlimited usage"]}),(0,g.jsxs)("div",{className:"feature",children:[(0,g.jsx)(j,{}),"Access to all features"]}),(0,g.jsxs)("div",{className:"feature",children:[(0,g.jsx)(j,{}),"Maximum message size"]}),(0,g.jsxs)("div",{className:"feature",children:[(0,g.jsx)(j,{}),"Maximum response size"]})]}),null!==v&&void 0!==v&&v.ended_at||"premium"!==(null===v||void 0===v?void 0:v.role)||"incomplete"===(null===v||void 0===v?void 0:v.status)?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("button",{className:"sub-button",onClick:function(){return _()},children:["Choose Premium",p&&(0,g.jsx)(x.Z,{style:{width:15,height:15,marginLeft:10,color:"white"}})]})}):null,(null!==v&&void 0!==v&&v.ended_at||"incomplete"===(null===v||void 0===v?void 0:v.status))&&"complete"!==(null===v||void 0===v?void 0:v.status)?null:(0,g.jsx)("a",{className:"sub-button",href:"https://billing.stripe.com/p/login/3cs2bKeB07PpgeI8ww",children:"Unsubscribe"})]}),(0,g.jsxs)(b.rU,{className:"home-button",to:"/",children:[(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",style:{marginRight:10},children:(0,g.jsx)("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})}),"Return Home"]})]})}}}]);
//# sourceMappingURL=116.0db1ad62.chunk.js.map