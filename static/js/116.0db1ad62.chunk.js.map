{"version":3,"file":"static/js/116.0db1ad62.chunk.js","mappings":"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","sources":["../node_modules/@stripe/stripe-js/dist/stripe.esm.js","Components/CheckSvg.js","Pages/StorePage.js"],"sourcesContent":["var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.46.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import React from \"react\";\n\n// Used in store page\nconst CheckSvg = () => (\n  <svg\n    style={{\n      marginRight: 10,\n    }}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={16}\n    height={16}\n    fill=\"currentColor\"\n    className=\"bi bi-check-circle\"\n  >\n    <path\n      d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n      fill=\"#b3befe\"\n    />\n    <path\n      d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"\n      fill=\"#b3befe\"\n    />\n  </svg>\n);\n\nexport default CheckSvg;\n","import React, { useState, useEffect } from \"react\";\nimport \"./StorePage.css\";\nimport {\n  collection,\n  addDoc,\n  onSnapshot,\n  getDocs,\n  getFirestore,\n} from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CircularProgress } from \"@mui/material\";\nimport CheckSvg from \"../Components/CheckSvg\";\nimport { Link } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\n\nfunction StorePage({ app }) {\n  // Get firestore and auth instances\n  const db = getFirestore(app);\n  const auth = getAuth();\n  // Get current user\n  const user = auth.currentUser;\n  const [loading, setLoading] = useState(false);\n  const [subscription, setSubscription] = useState(null);\n\n  // Load user's subscription details\n  const loadSubscription = async () => {\n    const ref = await getDocs(\n      collection(db, `customers/${user.uid}/subscriptions`)\n    );\n    // Set subscription details in state\n    ref.forEach(async (doc) => {\n      setSubscription({\n        role: doc.data().role,\n        current_period_end: doc.data().current_period_end,\n        current_period_start: doc.data().current_period_start,\n        ended_at: doc.data().ended_at,\n        status: doc.data().status,\n      });\n    });\n  };\n\n  // Load subscription details when component loads\n  useEffect(() => {\n    loadSubscription();\n  }, []);\n\n  // Load checkout session\n  const loadCheckout = async () => {\n    setLoading(true);\n    // Add checkout session to the firestore\n    const docRef = await addDoc(\n      collection(db, `customers/${user.uid}/checkout_sessions`),\n      {\n        price: \"price_1MUNd2G3QzTgLSVlIsOgsP1w\",\n        success_url: window.location.origin,\n        cancel_url: window.location.origin,\n      }\n    );\n    // Listen for changes in checkout session\n    onSnapshot(docRef, async (snap) => {\n      const { error, sessionId } = snap.data();\n      // If there's an error, show an alert\n      if (error) {\n        alert(`An error occured: ${error.message}`);\n      }\n      // If sessionId is available, redirect to checkout\n      if (sessionId) {\n        const stripe = await loadStripe(\n          \"pk_live_51MQJzsG3QzTgLSVlbbn61XR2oHPXoFBdUFzS2TpLtmAYpkad8VS9zNggzcxFP38emnL4YsHItBaLXHCrBugX5LZY005GSqsQAv\"\n        );\n        stripe.redirectToCheckout({ sessionId });\n        setLoading(false);\n      }\n    });\n  };\n\n  console.log(subscription);\n  return (\n    <div className=\"store-container\">\n      <h1 className=\"store-heading\">ChatGPT Enhanced</h1>\n\n      {/* \n      <div>\n        <button className=\"monthly-button\">MONTHLY</button>\n      </div>\n      */}\n\n      <motion.div\n        // animate in from the left of the screen\n        initial={{ opacity: 1, x: -800 }}\n        animate={{ opacity: 1, x: 0 }}\n        transition={{ duration: 0.7 }}\n        viewport={{ once: true }}\n        className=\"sub-card\"\n      >\n        <div className=\"store-recommended\">RECOMMENDED</div>\n\n        <div className=\"sub-role\">\n          <h2 className=\"store-subheading\">Premium</h2>\n          <p className=\"text-gray\">Advanced Features</p>\n        </div>\n\n        <div className=\"pricing\">\n          <div className=\"old-price\">$14.99</div>\n          <div className=\"price\">\n            $9.99<span className=\"currency-type\">USD</span>\n          </div>\n          <div className=\"text-gray\">Per Month</div>\n        </div>\n\n        <div className=\"sub-features\">\n          <div className=\"feature\">\n            <CheckSvg />\n            Unlimited usage\n          </div>\n          <div className=\"feature\">\n            <CheckSvg />\n            Access to all features\n          </div>\n          <div className=\"feature\">\n            <CheckSvg />\n            Maximum message size\n          </div>\n          <div className=\"feature\">\n            <CheckSvg />\n            Maximum response size\n          </div>\n        </div>\n\n        {/* If a user is not subscribed, show the checkout button */}\n        {subscription?.ended_at ||\n        subscription?.role !== \"premium\" ||\n        subscription?.status === \"incomplete\" ? (\n          <>\n            <button className=\"sub-button\" onClick={() => loadCheckout()}>\n              Choose Premium\n              {loading && (\n                <CircularProgress\n                  style={{\n                    width: 15,\n                    height: 15,\n                    marginLeft: 10,\n                    color: \"white\",\n                  }}\n                />\n              )}\n            </button>\n          </>\n        ) : null}\n\n        {/* If a user is subscribed, show the unsubscribe button */}\n        {(!subscription?.ended_at && subscription?.status !== \"incomplete\") ||\n        subscription?.status === \"complete\" ? (\n          <a\n            className=\"sub-button\"\n            href=\"https://billing.stripe.com/p/login/3cs2bKeB07PpgeI8ww\"\n          >\n            Unsubscribe\n          </a>\n        ) : null}\n      </motion.div>\n\n      <Link className=\"home-button\" to={\"/\"}>\n        {/* Left arrow svg */}\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={16}\n          height={16}\n          fill=\"currentColor\"\n          style={{ marginRight: 10 }}\n        >\n          <path d=\"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\" />\n        </svg>\n        Return Home\n      </Link>\n    </div>\n  );\n}\n\nexport default StorePage;\n"],"names":["V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","stripePromise","loadScript","params","Promise","resolve","reject","window","Stripe","console","warn","script","scripts","document","querySelectorAll","concat","i","length","test","src","findScript","queryString","advancedFraudSignals","createElement","headOrBody","head","body","Error","appendChild","injectScript","addEventListener","error","initStripe","maybeStripe","args","startTime","stripe","apply","undefined","_registerWrapper","name","version","registerWrapper","stripePromise$1","then","loadCalled","err","loadStripe","_len","arguments","Array","_key","Date","now","style","marginRight","xmlns","width","height","fill","className","d","app","db","getFirestore","user","getAuth","currentUser","useState","loading","setLoading","subscription","setSubscription","loadSubscription","getDocs","collection","uid","forEach","doc","role","data","current_period_end","current_period_start","ended_at","status","useEffect","loadCheckout","addDoc","price","success_url","location","origin","cancel_url","docRef","onSnapshot","snap","sessionId","alert","message","redirectToCheckout","log","motion","initial","opacity","x","animate","transition","duration","viewport","once","onClick","CircularProgress","marginLeft","color","href","to"],"sourceRoot":""}